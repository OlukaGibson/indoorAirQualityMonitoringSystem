- image:
    src: airqo_logo
    align: TOP_LEFT
    opa: 100%
    x: 35
    y: 6
    on_click:
      - lvgl.page.show: main_page

# - !include ../components/navbar/time.yaml
- obj:
    x: 0
    y: 6
    width: 142
    height: 40
    align: TOP_MID
    bg_color: 0xe7eaee
    scrollbar_mode: 'OFF'
    widgets:
      - label:
          text: '17:17'
          text_color: 0x000000
          align: CENTER
          # text_font: roboto_medium

# - !include ../components/navbar/separator.yaml
- line:
    points:
      - 0, 60
      - 795, 60
    line_width: 2
    line_color: 0x347cd7
    line_rounded: true

- button:
    # id: back_button
    x: 31
    y: 81
    width: 80
    height: 30
    bg_color: 0x2196F3
    on_click:
      - lvgl.page.show: menu_page
    widgets:
      - label:
          text: "Back"
          text_color: 0xFFFFFF
          align: CENTER

- obj:
    x: 321
    y: 95
    width: 157
    height: 40
    bg_color: 0xf0f0f0
    scrollbar_mode: 'OFF'
    radius: 50
    bg_opa: 40%
    border_color: 0xdadada
    border_width: 1
    widgets:
      - label:
          text: "AirQo AQI Icon Index"
          text_color: 0x3a84fd
          align: CENTER

# this is the GoodAir icon
- obj:
    x: 160
    y: 155
    width: 210
    height: 30
    bg_color: 0xFFFFFF
    scrollbar_mode: 'OFF'
    border_width: 0
    shadow_width: 0
    widgets:
      - label:
          text: "Air Quality is Good"
          text_color: 0x000000
          align: CENTER

- obj:
    x: 170
    y: 185
    width: 210
    height: 30
    bg_color: 0xFFFFFF
    scrollbar_mode: 'OFF'
    border_width: 0
    shadow_width: 0
    widgets:
      - label:
          text: "0.0mg/m3 - 9.0mg/m3"
          text_color: 0x000000
          align: CENTER

- image:
    src: GoodAirInfo
    opa: 100%
    x: 100
    y: 150

# this is the Moderate icon
- obj:
    x: 160
    y: 255
    width: 210
    height: 30
    bg_color: 0xFFFFFF
    scrollbar_mode: 'OFF'
    border_width: 0
    shadow_width: 0
    widgets:
      - label:
          text: "Air Quality is Moderate"
          text_color: 0x000000
          align: CENTER

- obj:
    x: 170
    y: 285
    width: 210
    height: 30
    bg_color: 0xFFFFFF
    scrollbar_mode: 'OFF'
    border_width: 0
    shadow_width: 0
    widgets:
      - label:
          text: "9.1mg/m3 - 35.4mg/m3"
          text_color: 0x000000
          align: CENTER

- image:
    src: ModerateInfo
    opa: 100%
    x: 100
    y: 250

# this is the Unhealthy for Sensitive Groups icon
- obj:
    x: 160
    y: 375
    width: 210
    height: 30
    bg_color: 0xFFFFFF
    scrollbar_mode: 'OFF'
    border_width: 0
    shadow_width: 0
    widgets:
      - label:
          text: "Air Quality is Moderate"
          text_color: 0x000000
          align: CENTER

- obj:
    x: 170
    y: 405
    width: 210
    height: 30
    bg_color: 0xFFFFFF
    scrollbar_mode: 'OFF'
    border_width: 0
    shadow_width: 0
    widgets:
      - label:
          text: "9.1mg/m3 - 35.4mg/m3"
          text_color: 0x000000
          align: CENTER

- image:
    src: UnhealthySGInfo
    opa: 100%
    x: 100
    y: 370

# this is the Unhealthy
- obj:
    x: 510
    y: 155
    width: 210
    height: 30
    bg_color: 0xFFFFFF
    scrollbar_mode: 'OFF'
    border_width: 0
    shadow_width: 0
    widgets:
      - label:
          text: "Air Quality is Unhealthy"
          text_color: 0x000000
          align: CENTER

- obj:
    x: 520
    y: 185
    width: 210
    height: 30
    bg_color: 0xFFFFFF
    scrollbar_mode: 'OFF'
    border_width: 0
    shadow_width: 0
    widgets:
      - label:
          text: "55.5mg/m3 - 125.4mg/m3"
          text_color: 0x000000
          align: CENTER

- image:
    src: UnhealthyInfo
    opa: 100%
    x: 450
    y: 150

# this is the Very Unhealthy
- obj:
    x: 510
    y: 255
    width: 210
    height: 30
    bg_color: 0xFFFFFF
    scrollbar_mode: 'OFF'
    border_width: 0
    shadow_width: 0
    widgets:
      - label:
          text: "Air Quality is Very Unhealthy"
          text_color: 0x000000
          align: CENTER

- obj:
    x: 520
    y: 285
    width: 200
    height: 30
    bg_color: 0xFFFFFF
    scrollbar_mode: 'OFF'
    border_width: 0
    shadow_width: 0
    widgets:
      - label:
          text: "125.5mg/m3 - 225.4mg/m3"
          text_color: 0x000000
          align: CENTER

- image:
    src: VeryUnhealthyInfo
    opa: 100%
    x: 450
    y: 250

# this is the Hazardous
- obj:
    x: 510
    y: 375
    width: 210
    height: 30
    bg_color: 0xFFFFFF
    scrollbar_mode: 'OFF'
    border_width: 0
    shadow_width: 0
    widgets:
      - label:
          text: "Air Quality is Hazardous"
          text_color: 0x000000
          align: CENTER

- obj:
    x: 520
    y: 405
    width: 210
    height: 30
    bg_color: 0xFFFFFF
    scrollbar_mode: 'OFF'
    border_width: 0
    shadow_width: 0
    widgets:
      - label:
          text: "225.5Î¼g/m3 +"
          text_color: 0x000000
          align: CENTER

- image:
    src: HazardousInfo
    opa: 100%
    x: 450
    y: 370

# image:
#   src: airqo_logo
#   align: TOP_LEFT
#   opa: 100%
#   x: 35
#   y: 6
#   id: logo_button


# // Update image and text based on value
#           if (pm25 <= 9.00) {
#             quality_text = "Good";
#             text_color = 0x00b016;
#             bg_color = 0x68D36C;
#             lv_img_set_src(id(air_quality_icon), id(GoodAir));
#             ESP_LOGD("AirQuality", "Setting image to GoodAir");
#           } else if (pm25 <= 55.40) {
#             quality_text = "Moderate";
#             text_color = 0xfcbf01;
#             bg_color = 0xfec81d;
#             lv_img_set_src(id(air_quality_icon), id(Moderate));
#             ESP_LOGD("AirQuality", "Setting image to Moderate");
#           } else if (pm25 <= 125.40) {
#             quality_text = "Unhealthy for All";
#             text_color = 0xe70808;
#             bg_color = 0xf3624e;
#             lv_img_set_src(id(air_quality_icon), id(Unhealthy));
#             ESP_LOGD("AirQuality", "Setting image to Unhealthy");
#           } else if (pm25 <= 225.40) {
#             quality_text = "Very Unhealthy";
#             text_color = 0xaa4ef3;
#             bg_color = 0xc27ff7;
#             lv_img_set_src(id(air_quality_icon), id(VeryUnhealthy));
#             ESP_LOGD("AirQuality", "Setting image to VeryUnhealthy");
#           } else {
#             quality_text = "Hazardous";
#             text_color = 0xe124e1;
#             bg_color = 0xf77fe4; 
#             lv_img_set_src(id(air_quality_icon), id(Hazardous));
#             ESP_LOGD("AirQuality", "Setting image to Hazardous");
#           }
          
#           // Update the label text and colors if found
#           if (air_quality_label != nullptr) {
#             lv_label_set_text(air_quality_label, quality_text);
#             lv_obj_set_style_text_color(air_quality_label, lv_color_hex(text_color), LV_PART_MAIN | LV_STATE_DEFAULT);
            
#             // Update container background color
#             lv_obj_set_style_bg_color(air_quality_container, lv_color_hex(bg_color), LV_PART_MAIN | LV_STATE_DEFAULT);
#             lv_obj_set_style_border_color(air_quality_container, lv_color_hex(bg_color), LV_PART_MAIN | LV_STATE_DEFAULT);
            
#             ESP_LOGD("AirQuality", "Updated UI for: %s (%.2f)", quality_text, pm25);
#           }